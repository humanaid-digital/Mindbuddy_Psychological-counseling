# ë§ˆì¸ë“œë²„ë”” í”„ë¡œì íŠ¸ êµ¬ì¡°

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
mindbuddy/
â”œâ”€â”€ ğŸ“ .github/                    # GitHub Actions ì›Œí¬í”Œë¡œìš°
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml                 # CI/CD íŒŒì´í”„ë¼ì¸
â”œâ”€â”€ ğŸ“ config/                     # ì„¤ì • íŒŒì¼ë“¤
â”‚   â””â”€â”€ database.js                # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
â”œâ”€â”€ ğŸ“ docs/                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ database-erd.md            # ë°ì´í„°ë² ì´ìŠ¤ ERD
â”‚   â””â”€â”€ project-structure.md       # í”„ë¡œì íŠ¸ êµ¬ì¡° (ì´ íŒŒì¼)
â”œâ”€â”€ ğŸ“ middleware/                 # Express ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ auth.js                    # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ monitoring.js              # ëª¨ë‹ˆí„°ë§ ë¯¸ë“¤ì›¨ì–´
â”‚   â””â”€â”€ security.js                # ë³´ì•ˆ ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ ğŸ“ models/                     # Mongoose ëª¨ë¸
â”‚   â”œâ”€â”€ Booking.js                 # ì˜ˆì•½ ëª¨ë¸
â”‚   â”œâ”€â”€ ChatMessage.js             # ì±„íŒ… ë©”ì‹œì§€ ëª¨ë¸
â”‚   â”œâ”€â”€ Counselor.js               # ìƒë‹´ì‚¬ ëª¨ë¸
â”‚   â”œâ”€â”€ Notification.js            # ì•Œë¦¼ ëª¨ë¸
â”‚   â”œâ”€â”€ Payment.js                 # ê²°ì œ ëª¨ë¸
â”‚   â”œâ”€â”€ Review.js                  # ë¦¬ë·° ëª¨ë¸
â”‚   â””â”€â”€ User.js                    # ì‚¬ìš©ì ëª¨ë¸
â”œâ”€â”€ ğŸ“ public/                     # ì •ì  íŒŒì¼
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ api.js                 # í´ë¼ì´ì–¸íŠ¸ API ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€â”€ ğŸ“ routes/                     # Express ë¼ìš°í„°
â”‚   â”œâ”€â”€ admin.js                   # ê´€ë¦¬ì ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ auth.js                    # ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ bookings.js                # ì˜ˆì•½ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ contact.js                 # ë¬¸ì˜ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ counselors.js              # ìƒë‹´ì‚¬ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ health.js                  # í—¬ìŠ¤ì²´í¬ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ payments.js                # ê²°ì œ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ reviews.js                 # ë¦¬ë·° ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ sessions.js                # ì„¸ì…˜ ë¼ìš°íŠ¸
â”‚   â””â”€â”€ users.js                   # ì‚¬ìš©ì ë¼ìš°íŠ¸
â”œâ”€â”€ ğŸ“ scripts/                    # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ init-database.js           # ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ migrate.js                 # ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ mongo-init.js              # MongoDB ì´ˆê¸° ì„¤ì •
â”œâ”€â”€ ğŸ“ tests/                      # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ models/                    # ëª¨ë¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ routes/                    # ë¼ìš°íŠ¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ utils/                     # ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ setup.js                   # í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ ğŸ“ uploads/                    # ì—…ë¡œë“œëœ íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ ğŸ“ utils/                      # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ jitsi.js                   # Jitsi Meet í†µí•©
â”‚   â”œâ”€â”€ logger.js                  # ë¡œê¹… ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ response.js                # API ì‘ë‹µ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ ğŸ“ views/                      # HTML í…œí”Œë¦¿
â”‚   â”œâ”€â”€ admin.html                 # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ booking.html               # ì˜ˆì•½ í˜ì´ì§€
â”‚   â”œâ”€â”€ client-dashboard.html      # ë‚´ë‹´ì ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ client-register.html       # ë‚´ë‹´ì íšŒì›ê°€ì…
â”‚   â”œâ”€â”€ contact.html               # ë¬¸ì˜ í˜ì´ì§€
â”‚   â”œâ”€â”€ counselor-dashboard.html   # ìƒë‹´ì‚¬ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ counselor-register.html    # ìƒë‹´ì‚¬ íšŒì›ê°€ì…
â”‚   â”œâ”€â”€ counselors.html            # ìƒë‹´ì‚¬ ëª©ë¡
â”‚   â”œâ”€â”€ index.html                 # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ login.html                 # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ payment.html               # ê²°ì œ í˜ì´ì§€
â”‚   â”œâ”€â”€ session.html               # ìƒë‹´ ì„¸ì…˜ í˜ì´ì§€
â”‚   â””â”€â”€ signup.html                # íšŒì›ê°€ì… í˜ì´ì§€
â”œâ”€â”€ ğŸ“„ .env.example                # í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ ğŸ“„ .eslintrc.js                # ESLint ì„¤ì •
â”œâ”€â”€ ğŸ“„ .gitignore                  # Git ë¬´ì‹œ íŒŒì¼ ëª©ë¡
â”œâ”€â”€ ğŸ“„ .prettierrc                 # Prettier ì„¤ì •
â”œâ”€â”€ ğŸ“„ docker-compose.yml          # Docker Compose ì„¤ì •
â”œâ”€â”€ ğŸ“„ Dockerfile                  # Docker ì´ë¯¸ì§€ ë¹Œë“œ
â”œâ”€â”€ ğŸ“„ jest.config.js              # Jest í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ ğŸ“„ package.json                # NPM íŒ¨í‚¤ì§€ ì„¤ì •
â”œâ”€â”€ ğŸ“„ README.md                   # í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ
â””â”€â”€ ğŸ“„ server.js                   # ë©”ì¸ ì„œë²„ íŒŒì¼
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ íŒ¨í„´

### MVC (Model-View-Controller) íŒ¨í„´
- **Model**: `models/` ë””ë ‰í† ë¦¬ì˜ Mongoose ìŠ¤í‚¤ë§ˆ
- **View**: `views/` ë””ë ‰í† ë¦¬ì˜ HTML í…œí”Œë¦¿
- **Controller**: `routes/` ë””ë ‰í† ë¦¬ì˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬

### ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Presentation Layer        â”‚  â† views/, public/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Business Layer           â”‚  â† routes/, middleware/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Data Access Layer         â”‚  â† models/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Database Layer           â”‚  â† MongoDB
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 1. ì¸ì¦ ì‹œìŠ¤í…œ
- **íŒŒì¼**: `middleware/auth.js`, `routes/auth.js`
- **ê¸°ëŠ¥**: JWT ê¸°ë°˜ ì¸ì¦, ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- **ë³´ì•ˆ**: bcrypt íŒ¨ìŠ¤ì›Œë“œ í•´ì‹±, í† í° ë§Œë£Œ ê´€ë¦¬

### 2. ì˜ˆì•½ ì‹œìŠ¤í…œ
- **íŒŒì¼**: `routes/bookings.js`, `models/Booking.js`
- **ê¸°ëŠ¥**: ì˜ˆì•½ ìƒì„±/ìˆ˜ì •/ì·¨ì†Œ, ì‹œê°„ ì¶©ëŒ ê²€ì‚¬
- **í†µí•©**: ê²°ì œ ì‹œìŠ¤í…œ, ì•Œë¦¼ ì‹œìŠ¤í…œ

### 3. ê²°ì œ ì‹œìŠ¤í…œ
- **íŒŒì¼**: `routes/payments.js`, `models/Payment.js`
- **ê¸°ëŠ¥**: ë‹¤ì¤‘ ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì§€ì›, í™˜ë¶ˆ ì²˜ë¦¬
- **ë³´ì•ˆ**: PCI DSS ì¤€ìˆ˜, ë¯¼ê°ì •ë³´ ì•”í˜¸í™”

### 4. ì‹¤ì‹œê°„ í†µì‹ 
- **íŒŒì¼**: `server.js` (Socket.IO), `utils/jitsi.js`
- **ê¸°ëŠ¥**: ì‹¤ì‹œê°„ ì±„íŒ…, í™”ìƒ ìƒë‹´, ì•Œë¦¼
- **ê¸°ìˆ **: Socket.IO, Jitsi Meet API

### 5. ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
- **íŒŒì¼**: `middleware/monitoring.js`, `utils/logger.js`
- **ê¸°ëŠ¥**: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§, ì—ëŸ¬ ì¶”ì , ë¡œê¹…
- **ë„êµ¬**: Winston ë¡œê±°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¶”ì 

## ğŸ”§ ê°œë°œ ë„êµ¬

### ì½”ë“œ í’ˆì§ˆ
- **ESLint**: JavaScript ì½”ë“œ ë¦°íŒ…
- **Prettier**: ì½”ë“œ í¬ë§·íŒ…
- **Jest**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° í†µí•© í…ŒìŠ¤íŠ¸

### CI/CD
- **GitHub Actions**: ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ë° ë°°í¬
- **Docker**: ì»¨í…Œì´ë„ˆí™”ëœ ë°°í¬
- **MongoDB Memory Server**: í…ŒìŠ¤íŠ¸ìš© ì¸ë©”ëª¨ë¦¬ DB

### ë³´ì•ˆ
- **Helmet**: HTTP ë³´ì•ˆ í—¤ë”
- **Rate Limiting**: API ìš”ì²­ ì œí•œ
- **Input Sanitization**: XSS/Injection ë°©ì§€

## ğŸ“Š ë°ì´í„° í”Œë¡œìš°

### 1. ì‚¬ìš©ì ë“±ë¡ í”Œë¡œìš°
```
Client â†’ auth/register â†’ User Model â†’ Database
                    â†“
              Email Verification â†’ Notification
```

### 2. ì˜ˆì•½ ìƒì„± í”Œë¡œìš°
```
Client â†’ bookings/create â†’ Booking Model â†’ Database
                      â†“
              Payment Processing â†’ Payment Model
                      â†“
              Notification â†’ Both Users
```

### 3. ìƒë‹´ ì„¸ì…˜ í”Œë¡œìš°
```
Client â†’ session/join â†’ Socket.IO â†’ Jitsi Meet
                   â†“
              Chat Messages â†’ ChatMessage Model
                   â†“
              Session Logs â†’ Database
```

## ğŸš€ ë°°í¬ ì „ëµ

### ê°œë°œ í™˜ê²½
- **ë¡œì»¬ ê°œë°œ**: `npm run dev` (nodemon)
- **í…ŒìŠ¤íŠ¸**: `npm test` (Jest + MongoDB Memory Server)
- **ë¦°íŒ…**: `npm run lint` (ESLint)

### í”„ë¡œë•ì…˜ í™˜ê²½
- **ì»¨í…Œì´ë„ˆí™”**: Docker + Docker Compose
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ
- **ë°ì´í„°ë² ì´ìŠ¤**: MongoDB Atlas (í´ëŸ¬ìŠ¤í„°)
- **íŒŒì¼ ì €ì¥ì†Œ**: AWS S3 ë˜ëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€

### ëª¨ë‹ˆí„°ë§
- **ë¡œê·¸ ìˆ˜ì§‘**: Winston â†’ íŒŒì¼/ì™¸ë¶€ ì„œë¹„ìŠ¤
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ë©”ëª¨ë¦¬, CPU ì‚¬ìš©ëŸ‰ ì¶”ì 
- **ì—ëŸ¬ ì¶”ì **: ìë™ ì—ëŸ¬ ë¡œê¹… ë° ì•Œë¦¼

## ğŸ”„ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### ìˆ˜í‰ í™•ì¥
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ê¸°ëŠ¥ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬ ê°€ëŠ¥
- **ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©**: ì‚¬ìš©ì/ë‚ ì§œ ê¸°ë°˜ ë¶„ì‚°
- **ìºì‹±**: Redisë¥¼ í†µí•œ ì„¸ì…˜/ë°ì´í„° ìºì‹±

### ì„±ëŠ¥ ìµœì í™”
- **ì¸ë±ì‹±**: ì£¼ìš” ì¿¼ë¦¬ ê²½ë¡œ ìµœì í™”
- **ì—°ê²° í’€ë§**: MongoDB ì—°ê²° ê´€ë¦¬
- **ì •ì  íŒŒì¼**: CDNì„ í†µí•œ ë°°í¬

## ğŸ“ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ì½”ë”© ì»¨ë²¤ì…˜
- **íŒŒì¼ëª…**: kebab-case (ì˜ˆ: `user-profile.js`)
- **ë³€ìˆ˜ëª…**: camelCase (ì˜ˆ: `userName`)
- **ìƒìˆ˜ëª…**: UPPER_SNAKE_CASE (ì˜ˆ: `MAX_FILE_SIZE`)
- **í•¨ìˆ˜ëª…**: ë™ì‚¬ë¡œ ì‹œì‘ (ì˜ˆ: `getUserById`)

### ì—ëŸ¬ ì²˜ë¦¬
- **ì¼ê´€ëœ ì—ëŸ¬ ì‘ë‹µ**: `utils/response.js` ì‚¬ìš©
- **ë¡œê¹…**: ëª¨ë“  ì—ëŸ¬ëŠ” ë¡œê·¸ì— ê¸°ë¡
- **ì‚¬ìš©ì ì¹œí™”ì **: ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ ìˆ¨ê¹€

### ë³´ì•ˆ ì›ì¹™
- **ìµœì†Œ ê¶Œí•œ**: í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬
- **ì…ë ¥ ê²€ì¦**: ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
- **ë¯¼ê°ì •ë³´**: í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬
- **ì •ê¸° ì—…ë°ì´íŠ¸**: ì˜ì¡´ì„± ë³´ì•ˆ ì—…ë°ì´íŠ¸